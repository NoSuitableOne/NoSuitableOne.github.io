<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>JS基础系列（函数） | NoSuitableOne&#39;s blog | more than coding</title>

  
  <meta name="author" content="NoSuitableOne">
  

  
  <meta name="description" content="关键字： 函数都是对象js中函数都是Function对象，它们也具有属性和方法，最为特殊的是它们可以被调用。1234567function fn() &amp;#123;&amp;#125;typeof(xxx)// &amp;quot;function&amp;quot;fn instanceof Function// True">
  

  
  
  <meta name="keywords" content="JS">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="JS基础系列（函数）"/>

  <meta property="og:site_name" content="NoSuitableOne&#39;s blog"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="NoSuitableOne&#39;s blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">NoSuitableOne&#39;s blog</a>
    </h1>
    <p class="site-description">more than coding</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/categories">系列</a></li>
      
        <li><a href="/about">关于我</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>JS基础系列（函数）</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/03/26/JS基础系列（函数）/" rel="bookmark">
        <time class="entry-date published" datetime="2018-03-26T09:38:26.000Z">
          2018-03-26
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>关键字： <strong>函数都是对象</strong><br><code>js</code>中函数都是<code>Function</code>对象，它们也具有属性和方法，最为特殊的是它们可以被调用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function fn() &#123;&#125;</span><br><span class="line"></span><br><span class="line">typeof(xxx)</span><br><span class="line">// &quot;function&quot;</span><br><span class="line"></span><br><span class="line">fn instanceof Function</span><br><span class="line">// True</span><br></pre></td></tr></table></figure></p>
<p>关键字： <strong><code>Function</code>的属性、方法</strong></p>
<ul>
<li><p><code>arguments</code><br><code>arguments</code> 可以获得函数中的参数。<code>arguments</code>对象不是一个 <code>Array</code>，它只具有索引值和<code>length</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function fn() &#123;</span><br><span class="line">  console.log(arguments);</span><br><span class="line">  console.log(arguments.length);</span><br><span class="line">  console.log(typeof arguments);</span><br><span class="line">  console.log(arguments instanceof Array);</span><br><span class="line">&#125;</span><br><span class="line">fn(1, 2, 3);</span><br><span class="line">// Arguments(3) [1, 2, 3, callee: ƒ, Symbol(Symbol.iterator): ƒ]</span><br><span class="line">// 3</span><br><span class="line">// object</span><br><span class="line">// false</span><br></pre></td></tr></table></figure>
<p>有两种方法可以将<code>arguments</code>转换成<code>Array</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">var args = Array.from(arguments);</span><br><span class="line">var args = [...arguments];</span><br></pre></td></tr></table></figure>
<p><code>arguments</code>有一个<code>callee</code>属性，这个属性的值是当前的执行函数<br><strong>注意点：当函数包含剩余参数、默认参数、解构赋值时，<code>arguments</code>不会跟踪参数，只反应函数调用时提供的参数</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function fn(a) &#123; </span><br><span class="line">  arguments[0] = 10;</span><br><span class="line">  console.log(a);</span><br><span class="line">&#125;</span><br><span class="line">fn(0); </span><br><span class="line">// 10</span><br><span class="line"></span><br><span class="line">function fn(a = 1) &#123; </span><br><span class="line">  arguments[0] = 10;</span><br><span class="line">  console.log(a);</span><br><span class="line">&#125;</span><br><span class="line">fn(0); </span><br><span class="line">// 0</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数的调用<br><code>Function.prototype.apply()</code>/<code>Function.prototype.call()</code>/<code>Function.prototype.bind()</code><br><code>Function.prototype.apply()</code>: 参数以数组形式传入<br><code>Function.prototype.call()</code>: 参数以参数列表形式传入<br><code>Function.prototype.bind()</code>: 绑定函数运行上下文，返回新函数 </p>
<p>详细说明：<br>最传统常见的函数调用方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fn() &#123;</span><br><span class="line">  console.log(&apos;fn is called&apos;);</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line">// &quot;fn is called&quot;</span><br></pre></td></tr></table></figure>
<p>使用<code>apply</code>/<code>call</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function fn() &#123;</span><br><span class="line">  console.log(&apos;fn is called&apos;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">fn.apply();</span><br><span class="line">// &quot;fn is called&quot;</span><br><span class="line"></span><br><span class="line">fn.call();</span><br><span class="line">// &quot;fn is called&quot;</span><br></pre></td></tr></table></figure>
<p>为什么函数也能这样调用呢？上文提到所有函数的原型对象都是<code>Function</code>(<code>fn.__proto__  === Function.prototype</code>)，这里调用<br>的都是<code>Function.prototype</code>上的方法。<br><code>apply</code>/<code>call</code>区别<br><code>apply</code>/<code>call</code>接受参数不同。<code>call</code>接受多个参数，第一个参数是函数绑定的执行上下文环境，后面接受传参；<code>apply</code>只接受两个<br>参数，第一个参数是函数绑定的执行上下文环境，后面通过一个数组或类数组接受传参。</p>
<p><code>bind</code>方法可以改变函数上下文执行环境，特别的是<strong><code>bind()</code>会创建一个新函数（称为绑定函数）而且这个函数的函数体和原函数是一样的</strong>，所以<strong><code>bind</code>方法的执行结果是返回一个函数</strong>。<br><code>bind()</code>函数接收第一个参数是绑定的上下文环境，后续参数为接受传参</p>
<ul>
<li><p>应用一，改变<code>this</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">const a = &apos;out of obj&apos;;</span><br><span class="line">const obj = &#123;</span><br><span class="line">  a: &apos;in obj&apos;,</span><br><span class="line">  fn() &#123;</span><br><span class="line">    return this.a;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.fn();</span><br><span class="line">// &apos;in obj&apos;</span><br><span class="line"> </span><br><span class="line">obj.fn.bind(this);</span><br><span class="line">// return obj.fn</span><br><span class="line"></span><br><span class="line">const  outfn = obj.fn.bind(this);</span><br><span class="line">outfn();</span><br><span class="line">// &apos;out of obj&apos;</span><br></pre></td></tr></table></figure>
<ul>
<li>应用二，传入预设参数<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function cost() &#123;</span><br><span class="line">  return `$&#123;arguments[0]&#125; $&#123;arguments[1]&#125;`;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const costWithCny = cost.bind(undefined, &apos;CNY&apos;);</span><br><span class="line">const costWithUsd = cost.bind(undefined, &apos;USD&apos;);</span><br><span class="line"></span><br><span class="line">costWithCny(10);</span><br><span class="line">// &apos;CNY 10&apos;</span><br><span class="line"></span><br><span class="line">costWithUsd(10);</span><br><span class="line">// &apos;USD 10&apos;</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/JS基础系列/">JS基础系列</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/JS/">JS</a>
    </span>
    

    </div>

    
  </div>
</article>


    </main>

    <footer class="site-footer">
  <p class="site-info">
    
      &copy; 2018 <a href="https://nosuitableone.github.io/">NoSuitableOne</a>
    
    </br>
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
  </p>
</footer>
    
  </div>
</div>
</body>
</html>